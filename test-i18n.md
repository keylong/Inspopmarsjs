# 多语言国际化测试指南

## 测试场景

### 1. 路由重定向测试
- **测试URL**: `http://localhost:3000/`
- **预期行为**: 自动重定向到 `http://localhost:3000/zh-CN/`

### 2. 语言切换测试
访问以下URL验证多语言功能：

- **简体中文**: `http://localhost:3000/zh-CN/`
- **繁体中文(台湾)**: `http://localhost:3000/zh-TW/`
- **繁体中文(香港)**: `http://localhost:3000/zh-HK/`
- **英文**: `http://localhost:3000/en/`
- **日文**: `http://localhost:3000/ja/`

### 3. 页面内容本地化测试
检查以下页面的多语言支持：

- **首页**: `/[locale]/`
- **下载页**: `/[locale]/download`
- **关于页**: `/[locale]/about`
- **登录页**: `/[locale]/auth/signin`
- **注册页**: `/[locale]/auth/signup`

### 4. 语言切换器测试
- 点击导航栏中的语言切换器
- 验证语言切换功能
- 检查URL是否正确更新
- 验证Cookie是否正确设置

### 5. SEO标签测试
检查页面源代码中的SEO优化：

- **hreflang标签**: 每个语言版本应包含指向其他语言的链接
- **lang属性**: HTML标签应有正确的lang属性
- **元数据**: title、description应为对应语言版本

### 6. 地理位置检测测试
使用浏览器开发者工具模拟不同地区：

- **中国大陆**: 应默认显示简体中文
- **台湾**: 应默认显示繁体中文
- **香港**: 应默认显示繁体中文(香港)
- **日本**: 应默认显示日文
- **其他地区**: 应默认显示英文

## 测试清单

- [ ] 根路径重定向到默认语言
- [ ] 所有5种语言页面能正常访问
- [ ] 语言切换器功能正常
- [ ] URL路径包含正确的语言代码
- [ ] 页面内容使用正确的语言
- [ ] 导航链接包含语言代码
- [ ] SEO标签正确生成
- [ ] sitemap.xml包含所有语言版本
- [ ] robots.txt正确配置
- [ ] Cookie语言偏好保存功能

## 常见问题排查

### 如果页面显示错误：
1. 检查语言包文件是否正确导入
2. 验证locale参数是否在有效列表中
3. 确认I18nProviderClient配置正确

### 如果重定向不工作：
1. 检查middleware.ts配置
2. 验证地理位置检测逻辑
3. 确认Cookie设置正确

### 如果SEO标签缺失：
1. 检查layout.tsx中的generateMetadata函数
2. 验证hreflang-links组件
3. 确认sitemap.ts配置

## 性能检查

- [ ] 语言包是否按需加载
- [ ] 首次加载性能是否acceptable
- [ ] 语言切换是否流畅
- [ ] 静态生成是否正常工作